<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RAJI'S SAREES</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<!-- TOAST -->
<div class="toast-container position-fixed top-0 end-0 p-3">
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flash-container">
      {% for message in messages %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"></button>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
</div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg myntra-navbar">
  <div class="container">

    <!-- LOGO -->
    <a class="navbar-brand brand-logo" href="/">RAJI‚ÄôS SAREES</a>

    <!-- NAV ACTIONS -->
    <div class="ms-auto d-flex align-items-center gap-4">

      {% if current_user.is_authenticated %}

        {% if current_user.is_admin %}
          <a href="/admin/dashboard" class="nav-icon fw-bold text-danger">
            Admin
          </a>
        {% endif %}

        <!-- WISHLIST -->
        <a href="/wishlist" class="nav-icon">
          ‚ù§Ô∏è
        </a>

        <!-- CART WITH BADGE -->
        <a href="/cart" class="nav-icon position-relative">
          üõí Cart
          {% if cart_count > 0 %}
            <span class="cart-badge">{{ cart_count }}</span>
          {% endif %}
        </a>

        <a href="/orders" class="nav-icon">Orders</a>
        <a href="/logout" class="nav-icon">Logout</a>

      {% else %}

        <a href="/login" class="nav-icon">Login</a>
        <a href="/register" class="nav-icon">Register</a>

      {% endif %}

    </div>
  </div>
</nav>

<!-- PAGE CONTENT -->
<div class="container mt-4">
    {% block content %}{% endblock %}
</div>

<!-- Bootstrap JS (REQUIRED) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Auto close flash messages -->
<script>
  setTimeout(() => {
    document.querySelectorAll('.alert').forEach(alert => {
      let bsAlert = new bootstrap.Alert(alert);
      bsAlert.close();
    });
  }, 3000);
</script>

<script>
  window.addEventListener("load", () => {
    document.getElementById("skeleton-wrapper").classList.add("d-none");
    document.getElementById("products-wrapper").classList.remove("d-none");
  });
</script>

</body>
</html>

